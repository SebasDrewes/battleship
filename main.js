(()=>{"use strict";var e=function(e,t,r){var n={},i=t,o=r;if("horizontal"===o)for(var l=0;l<t;l+=1)n[e+l]="noHit";else if("vertical"===o)for(var a=0;a<10*t;a+=10)n[e+a]="noHit";return{hitPoints:n,hit:function(e){n[e]="hit"},isSunk:function(){return!!Object.values(n).every((function(e){return"hit"===e}))},shipLength:i}};var t=document.querySelector("#container"),r="horizontal";document.querySelector("#change").addEventListener("click",(function(){r="horizontal"===r?"vertical":"horizontal"}));var n=function(){var t=[],r=["","","","","","","","","","","10","","","","","","","","","","","21","","","","","","","","","","","32","","","","","","","","","","","43","","","","","","","","","","","54","","","","","","","","","","","65","","","","","","","","","","","76","","","","","","","","","","","87","","","","","","","","","","","98","","","","","","","","","","","109"],n=[10,21,32,43,54,65,76,87,98,109];return{placeShip:function(i,o,l){console.log(i),console.log(i+o);var a=[];function u(e,t){return e.some((function(e){return t.includes(e)}))}if("horizontal"===l){for(var c=i;c<i+o;c+=1)!1===a.includes(c)&&a.push(c);if(!1===u(n,a)&&i+o<200){var s=e(i,o,l);t.push(s);for(var f=i;f<i+o;f+=1)!1===n.includes(f)&&n.push(f);for(var d=0;d<s.shipLength;d+=1)r[i+d]=i;s.shipNumber=i}}else if("vertical"===l){for(var h=i;h<i+11*o;h+=11)!1===a.includes(h)&&a.push(h);if(!1===u(n,a)&&i+11*o<110){var v=e(i,o,l);t.push(v);for(var p=i;p<i+11*o;p+=11)!1===n.includes(p)&&n.push(p);for(var m=0;m<11*v.shipLength;m+=11)r[i+m]=i;v.shipNumber=i}}},receiveAttack:function(e){if(""!==r[e])for(var n=0;n<t.length;n+=1)t[n].shipNumber===r[e]&&(r[e]="hit",t[n].hit(e));else r[e]="noHit"},gameBoard:r,shipList:t,allShipsSunked:function(){return!!t.every((function(e){return!0===e.isSunk()}))}}},i=n();n(),function e(n,i){for(;t.firstChild;)t.removeChild(t.firstChild);for(var o=function(o,l){var a=document.createElement("div"),u=[10,21,32,43,54,65,76,87,98,109];function c(e,t){return e.some((function(e){return t.includes(e)}))}a.setAttribute("data",[l]),a.classList.add("cellHidden"),a.classList.add("cell"),t.appendChild(a),!1===u.includes(l)&&(a.classList.remove("cellHidden"),a.textContent=o,a.addEventListener("click",(function(){n.placeShip(l,i,r),e(n,i);for(var t=l;t<l+i;t+=1)u.push(t)})),a.addEventListener("mouseover",(function(){var e=document.querySelectorAll(".cell");if("horizontal"===r){for(var t=[],n=0;n<e.length;n+=1)if(e[n].getAttribute("data")===l.toString())for(var o=0;o<i;o+=1)!1===t.includes(n+o)&&t.push(n+o),!1===c(u,t)&&e[n+o].classList.add("hoverCell")}else for(var a=0;a<e.length;a+=1)if(e[a].getAttribute("data")===l.toString())for(var s=0;s<10*i;s+=10)e[a+s]&&e[a+s].classList.add("hoverCell")})),a.addEventListener("mouseleave",(function(){document.querySelectorAll(".cell").forEach((function(e){return e.classList.remove("hoverCell")}))})))},l=0;l<n.gameBoard.length;l+=1)o(n.gameBoard[l],l)}(i,3)})();