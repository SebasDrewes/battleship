(()=>{"use strict";var e=document.querySelector("#container"),t="horizontal";document.querySelector("#change").addEventListener("click",(function(){t="horizontal"===t?"vertical":"horizontal"}));var r=function(){var e=[],t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r=[];return{placeShip:function(n,i,o){for(var a,l=[],c=n;c<n+i;c+=1)!1===l.includes(c)&&l.push(c);if(!1===(a=l,r.some((function(e){return a.includes(e)})))&&(console.log(1),""===t[n])){var u=function(e,t,r){var n={},i=t,o=r;if("horizontal"===o)for(var a=0;a<t;a+=1)n[e+a]="noHit";else if("vertical"===o)for(var l=0;l<10*t;l+=10)n[e+l]="noHit";return{hitPoints:n,hit:function(e){n[e]="hit"},isSunk:function(){return!!Object.values(n).every((function(e){return"hit"===e}))},shipLength:i}}(n,i,o);e.push(u);for(var s=n;s<n+i;s+=1)!1===r.includes(s)&&r.push(s);if("horizontal"===o){for(var f=0;f<u.shipLength;f+=1)t[n+f]=n;u.shipNumber=n}else if("vertical"===o){for(var h=0;h<10*u.shipLength;h+=10)t[n+h]=n;u.shipNumber=n}}},receiveAttack:function(r){if(""!==t[r])for(var n=0;n<e.length;n+=1)e[n].shipNumber===t[r]&&(t[r]="hit",e[n].hit(r));else t[r]="noHit"},gameBoard:t,shipList:e,allShipsSunked:function(){return!!e.every((function(e){return!0===e.isSunk()}))}}},n=r();r(),function r(n,i){for(;e.firstChild;)e.removeChild(e.firstChild);for(var o=function(o,a){var l=document.createElement("div");l.classList.add("cell"),l.textContent=o,l.setAttribute("data",[a]),e.appendChild(l),l.addEventListener("click",(function(){n.placeShip(a,i,t),r(n,i),console.log(n)})),l.addEventListener("mouseover",(function(){var e=document.querySelectorAll(".cell");if("horizontal"===t){for(var r=0;r<e.length;r+=1)if(e[r].getAttribute("data")===a.toString())for(var n=0;n<i;n+=1)e[r+n].classList.add("hoverCell")}else for(var o=0;o<e.length;o+=1)if(e[o].getAttribute("data")===a.toString())for(var l=0;l<10*i;l+=10)e[o+l].classList.add("hoverCell")})),l.addEventListener("mouseleave",(function(){document.querySelectorAll(".cell").forEach((function(e){return e.classList.remove("hoverCell")}))}))},a=0;a<n.gameBoard.length;a+=1)o(n.gameBoard[a],a)}(n,8)})();