(()=>{"use strict";var e=function(e,t,r){var n={},i=t,o=r;if("horizontal"===o)for(var a=0;a<t;a+=1)n[e+a]="noHit";else if("vertical"===o)for(var l=0;l<10*t;l+=10)n[e+l]="noHit";return{hitPoints:n,hit:function(e){n[e]="hit"},isSunk:function(){return!!Object.values(n).every((function(e){return"hit"===e}))},shipLength:i}};var t=document.querySelector("#container"),r="horizontal";document.querySelector("#change").addEventListener("click",(function(){r="horizontal"===r?"vertical":"horizontal"}));var n=function(){var t=[],r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n=[];return{placeShip:function(i,o,a){var l=[];function u(e,t){return e.some((function(e){return t.includes(e)}))}if("horizontal"===a){for(var c=i;c<i+o;c+=1)!1===l.includes(c)&&l.push(c);if(!1===u(n,l)){var s=e(i,o,a);t.push(s);for(var f=i;f<i+o;f+=1)!1===n.includes(f)&&n.push(f);for(var h=0;h<s.shipLength;h+=1)r[i+h]=i;s.shipNumber=i}}else if("vertical"===a){for(var v=i;v<i+10*o;v+=10)!1===l.includes(v)&&l.push(v);if(!1===u(n,l)&&i+10*o<110){var d=e(i,o,a);t.push(d);for(var p=i;p<i+10*o;p+=10)!1===n.includes(p)&&n.push(p);for(var m=0;m<10*d.shipLength;m+=10)r[i+m]=i;d.shipNumber=i}}},receiveAttack:function(e){if(""!==r[e])for(var n=0;n<t.length;n+=1)t[n].shipNumber===r[e]&&(r[e]="hit",t[n].hit(e));else r[e]="noHit"},gameBoard:r,shipList:t,allShipsSunked:function(){return!!t.every((function(e){return!0===e.isSunk()}))}}},i=n();n(),function e(n,i){for(;t.firstChild;)t.removeChild(t.firstChild);for(var o=function(o,a){var l=document.createElement("div");l.classList.add("cell"),l.textContent=o,l.setAttribute("data",[a]),t.appendChild(l),l.addEventListener("click",(function(){n.placeShip(a,i,r),e(n,i),console.log(n)})),l.addEventListener("mouseover",(function(){var e=document.querySelectorAll(".cell");if("horizontal"===r){for(var t=0;t<e.length;t+=1)if(e[t].getAttribute("data")===a.toString())for(var n=0;n<i;n+=1)e[t+n].classList.add("hoverCell")}else for(var o=0;o<e.length;o+=1)if(e[o].getAttribute("data")===a.toString())for(var l=0;l<10*i;l+=10)e[o+l].classList.add("hoverCell")})),l.addEventListener("mouseleave",(function(){document.querySelectorAll(".cell").forEach((function(e){return e.classList.remove("hoverCell")}))}))},a=0;a<n.gameBoard.length;a+=1)o(n.gameBoard[a],a)}(i,8)})();