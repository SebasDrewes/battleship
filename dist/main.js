(()=>{"use strict";var e=function(e,t,r){var n={},i=t,o=r;if("horizontal"===o)for(var l=0;l<t;l+=1)n[e+l]="noHit";else if("vertical"===o)for(var a=0;a<10*t;a+=10)n[e+a]="noHit";return{hitPoints:n,hit:function(e){n[e]="hit"},isSunk:function(){return!!Object.values(n).every((function(e){return"hit"===e}))},shipLength:i}};var t=document.querySelector("#container"),r="horizontal";document.querySelector("#change").addEventListener("click",(function(){r="horizontal"===r?"vertical":"horizontal"}));var n=function(){var t=[],r=["","","","","","","","","","","10","","","","","","","","","","","21","","","","","","","","","","","32","","","","","","","","","","","43","","","","","","","","","","","54","","","","","","","","","","","65","","","","","","","","","","","76","","","","","","","","","","","87","","","","","","","","","","","98","","","","","","","","","","","109"],n=[10,21,32,43,54,65,76,87,98,109];return{placeShip:function(i,o,l){var a=[];function c(e,t){return e.some((function(e){return t.includes(e)}))}if("horizontal"===l){for(var s=i;s<i+o;s+=1)!1===a.includes(s)&&a.push(s);if(!1===c(n,a)){if(i+o<120){var u=e(i,o,l);t.push(u);for(var d=i;d<i+o;d+=1)!1===n.includes(d)&&n.push(d);for(var v=0;v<u.shipLength;v+=1)r[i+v]=i;u.shipNumber=i}console.log(t)}}else if("vertical"===l){for(var f=i;f<i+11*o;f+=11)!1===a.includes(f)&&a.push(f);if(!1===c(n,a)&&i+11*o<120){var h=e(i,o,l);t.push(h);for(var p=i;p<i+11*o;p+=11)!1===n.includes(p)&&n.push(p);for(var m=0;m<11*h.shipLength;m+=11)r[i+m]=i;h.shipNumber=i}}},receiveAttack:function(e){if(""!==r[e])for(var n=0;n<t.length;n+=1)t[n].shipNumber===r[e]&&(r[e]="hit",t[n].hit(e));else r[e]="noHit"},gameBoard:r,shipList:t,allShipsSunked:function(){return!!t.every((function(e){return!0===e.isSunk()}))}}},i=n();n(),function e(n,i){for(;t.firstChild;)t.removeChild(t.firstChild);for(var o=function(o,l){var a=document.createElement("div"),c=[10,21,32,43,54,65,76,87,98,109];function s(e,t){return e.some((function(e){return t.includes(e)}))}a.setAttribute("data",[l]),a.classList.add("cellHidden"),a.classList.add("cell"),a.textContent=o,t.appendChild(a),!1===c.includes(l)&&(a.classList.remove("cellHidden"),a.addEventListener("click",(function(){n.placeShip(l,i,r),e(n,i);for(var t=l;t<l+i;t+=1)c.push(t);for(var o=document.querySelectorAll(".cell"),a=0;a<o.length;a+=1)""!==o[a].textContent&&o[a].classList.add("cellShip")})),a.addEventListener("mouseover",(function(){var e=document.querySelectorAll(".cell"),t=[];if("horizontal"===r){for(var n=0;n<e.length;n+=1)if(e[n].getAttribute("data")===l.toString()){for(var o=0;o<i;o+=1)!1===t.includes(n+o)&&t.push(n+o);for(var a=0;a<i;a+=1){var u=t.every((function(t){return void 0!==e[t]&&""===e[t].textContent}));!1===s(c,t)&&u?e[n+a]&&e[n+a].classList.add("hoverCell"):e[n].classList.add("invalidCell")}}}else for(var d=0;d<e.length;d+=1)if(e[d].getAttribute("data")===l.toString()){for(var v=0;v<11*i;v+=11)!1===t.includes(d+v)&&t.push(d+v);for(var f=0;f<11*i;f+=11){var h=t.every((function(t){return void 0!==e[t]&&""===e[t].textContent}));!1===s(c,t)&&h?e[d+f]&&e[d+f].classList.add("hoverCell"):e[d].classList.add("invalidCell")}}})),a.addEventListener("mouseleave",(function(){var e=document.querySelectorAll(".cell");e.forEach((function(e){return e.classList.remove("hoverCell")})),e.forEach((function(e){return e.classList.remove("invalidCell")}))})))},l=0;l<n.gameBoard.length;l+=1)o(n.gameBoard[l],l)}(i,5)})();